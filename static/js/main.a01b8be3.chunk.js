(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{127:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(42),i=t.n(o),c=t(19),u=t(9),l=t(7),s=t.n(l),d=t(11),p=t(43),f=t(44),m=t(51),h=t(45),b=t(52),g=t(15),v=function(){var e=Object(d.a)(s.a.mark(function e(n,t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){setTimeout(function(){e()},1e3)}).then(function(){if("test@test.pl"===n&&"Password1"===t)return"gdIpPw628dh2";throw Error("Invalid email or password")});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(n,t){return e.apply(this,arguments)}}(),x=function(){localStorage.removeItem("token"),sessionStorage.removeItem("token")},w={loading:!0,token:""},k=Object(g.a)({},w,{login:function(){},logout:function(){}}),E=a.a.createContext(k),j=function(e){function n(){var e,t;Object(p.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(m.a)(this,(e=Object(h.a)(n)).call.apply(e,[this].concat(a)))).state=w,t.login=function(){var e=Object(d.a)(s.a.mark(function e(n){var r,a,o,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.email,a=n.password,o=n.keepLoggedIn,e.next=3,t.authorize({email:r,password:a},o);case 3:return i=e.sent,t.setState({token:i}),e.abrupt("return",i);case 6:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),t.logout=function(){x(),t.setState({token:""})},t.authorize=function(){var e=Object(d.a)(s.a.mark(function e(n,t){var r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v(n.email,n.password);case 3:return r=e.sent,(t?localStorage:sessionStorage).setItem("token",r),e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(0),console.error(e.t0),x(),e.abrupt("return","");case 14:case"end":return e.stop()}},e,null,[[0,9]])}));return function(n,t){return e.apply(this,arguments)}}(),t}return Object(b.a)(n,e),Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("token")||sessionStorage.getItem("token");e?this.setState({loading:!1,token:e}):(this.props.history.replace("/"),this.setState({loading:!1}))}},{key:"render",value:function(){return a.a.createElement(E.Provider,{value:Object(g.a)({},this.state,{login:this.login,logout:this.logout})},this.props.children)}}]),n}(r.Component),O=Object(u.g)(j),y=E,S=t(2);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var C=t(3);function I(){var e=Object(C.a)(["\n\n  body {\n    margin: 0;\n    padding: 0;\n    font-family: 'Lato', sans-serif;\n    color: ",";\n  }\n  \n"]);return I=function(){return e},e}var z=Object(S.b)(I(),function(e){return e.theme.textRegular});function P(){var e=Object(C.a)(["\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return P=function(){return e},e}var L=S.c.div(P()),R=function(e){var n=e.children;return a.a.createElement(L,null,n)},B=t(20),M=t(16),q=function(e){return 0===Object.keys(e).length},A=function(e,n,t){var a=Object(r.useState)(e),o=Object(M.a)(a,2),i=o[0],c=o[1],u=Object(r.useState)({}),l=Object(M.a)(u,2),s=l[0],d=l[1],p=Object(r.useState)(!1),f=Object(M.a)(p,2),m=f[0],h=f[1],b=Object(r.useState)(!1),v=Object(M.a)(b,2),x=v[0],w=v[1];Object(r.useEffect)(function(){q(s)&&m&&n()},[n,s,m]);return{handleChange:function(e){e.persist(),c(function(n){return Object(g.a)({},n,Object(B.a)({},e.target.name,"checkbox"===e.target.type?e.target.checked:e.target.value))})},handleSubmit:function(e){e&&e.preventDefault();var n=t(i);d(n),q(n)&&h(!0)},finishSubmitting:function(){h(!1),w(!0)},isSubmitting:m,values:i,errors:s,isSubmitted:x}},D=t(50),J=t.n(D),W=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}$/,$=function(e){var n=e.email,t=e.password,r={};return J.a.isEmail(n)||(r.email="Invalid email"),t&&W.test(t)||(r.password="Invalid password"),r};function T(){var e=Object(C.a)(["\n  opacity: ",";\n  background: ",";\n  border-radius: 4px;\n  border: 1px solid ",";\n  color: ",";\n  padding: 12px 24px;\n  width: 300px;\n  transition: 0.5s all ease-out;\n  margin-top: 16px;\n\n  &:hover {\n    cursor: pointer;\n    opacity: 0.9;\n  }\n"]);return T=function(){return e},e}var V=S.c.button(T(),function(e){return e.disabled?"0.4":"1"},function(e){return e.theme.primary},function(e){return e.theme.primary},function(e){return e.theme.white}),Z=function(e){var n=e.text,t=e.disabled,r=e.type,o=e.onClick;return a.a.createElement(V,{disabled:t,type:r,onClick:o},n)},F=t(21);function G(){var e=Object(C.a)(["\n  display: inline-block;\n  width: 16px;\n  height: 16px;\n  background: ","\n  border: 2px solid ","\n  border-radius: 3px;\n  transition: all 150ms;\n\n\n  "," {\n    visibility: ","\n  }\n"]);return G=function(){return e},e}function H(){var e=Object(C.a)(["\n  border: 0;\n  clip: rect(0 0 0 0);\n  clippath: inset(50%);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  white-space: nowrap;\n  width: 1px;\n"]);return H=function(){return e},e}function K(){var e=Object(C.a)(["\n  fill: none;\n  stroke: ",";\n  stroke-width: 2px;\n"]);return K=function(){return e},e}function N(){var e=Object(C.a)(["\n  display: inline-block;\n  vertical-align: middle;\n"]);return N=function(){return e},e}var Q=S.c.div(N()),U=S.c.svg(K(),function(e){return e.theme.white}),X=S.c.input.attrs({type:"checkbox"})(H()),Y=S.c.div(G(),function(e){return e.checked?e.theme.primary:"transparent"},function(e){return e.checked?e.theme.primary:e.theme.border},U,function(e){return e.checked?"visible":"hidden"}),_=function(e){var n=e.checked,t=Object(F.a)(e,["checked"]);return a.a.createElement(Q,null,a.a.createElement(X,Object.assign({checked:n},t)),a.a.createElement(Y,{checked:n},a.a.createElement(U,{viewBox:"0 0 24 24"},a.a.createElement("polyline",{points:"20 6 9 17 4 12"}))))};function ee(){var e=Object(C.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 300px;\n  height: ",";\n"]);return ee=function(){return e},e}var ne=S.c.div(ee(),function(e){return e.height}),te=function(e){var n=e.height,t=e.children;return a.a.createElement(ne,{height:n},t)};function re(){var e=Object(C.a)(["\n  display: flex;\n  align-items: left;\n  flex-direction: column;\n  border: 1px solid ",";\n  background: ",";\n  box-sizing: border-box;\n  padding: 2rem;\n  box-shadow: 0px 0px 1px rgba(10, 31, 68, 0.06),\n    0px 3px 3px rgba(10, 31, 68, 0.1);\n  border-radius: 8px;\n"]);return re=function(){return e},e}var ae=S.c.div(re(),function(e){return e.theme.border},function(e){return e.theme.white}),oe=function(e){var n=e.children;return a.a.createElement(ae,null,n)};function ie(){var e=Object(C.a)(["\n  font-size: 28px;\n  color: ",";\n  text-align: center;\n  font-weight: 700;\n  padding-bottom: 24px;\n"]);return ie=function(){return e},e}var ce=S.c.h1(ie(),function(e){return e.theme.textPrimary}),ue=function(e){var n=e.text;return a.a.createElement(ce,null,n)};function le(){var e=Object(C.a)(["\n  color: ",";\n  margin: 0;\n  font-size: 12px;\n  padding-top: 4px;\n"]);return le=function(){return e},e}function se(){var e=Object(C.a)(["\n  background: ",";\n  border: 1px solid\n    ",";\n  box-sizing: border-box;\n  border-radius: 4px;\n  padding: 10px;\n\n  &:active,\n  &:focus {\n    text-align: left;\n    border: 1px solid ",";\n    box-sizing: border-box;\n  }\n\n  ::placeholder,\n  ::-webkit-input-placeholder {\n    color: ",";\n  }\n  :-ms-input-placeholder {\n    color: ",';\n  }\n\n  &:-webkit-autofill,\n  &:-webkit-autofill:hover,\n  &:-webkit-autofill:focus,\n  &:-webkit-autofill:active {\n    -webkit-transition: "color 9999s ease-out, background-color 9999s ease-out";\n    -webkit-transition-delay: 9999s;\n  }\n']);return se=function(){return e},e}function de(){var e=Object(C.a)(["\n  color: ",";\n  font-size: 12px;\n  font-weight: bold;\n  padding: 0 0 4px 4px;\n"]);return de=function(){return e},e}function pe(){var e=Object(C.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return pe=function(){return e},e}var fe=S.c.div(pe()),me=S.c.label(de(),function(e){return e.theme.textRegular}),he=S.c.input(se(),function(e){return e.theme.white},function(e){return e.error?e.theme.danger:e.theme.border},function(e){return e.theme.primary},function(e){return e.theme.textPlaceholder},function(e){return e.theme.textPlaceholder}),be=S.c.p(le(),function(e){return e.theme.danger}),ge=function(e){var n=e.label,t=e.error,r=Object(F.a)(e,["label","error"]);return a.a.createElement(fe,null,a.a.createElement(me,null,n),a.a.createElement(he,Object.assign({error:t},r)),t&&a.a.createElement(be,null,t))};function ve(){var e=Object(C.a)(["\n  background: ",";\n  color: ",";\n  font-size: 14px;\n  line-height: 24px;\n  padding: 10px 15px;\n  margin: 0;\n  margin-bottom: 10px;\n  border-radius: 4px;\n"]);return ve=function(){return e},e}var xe=S.c.div(ve(),function(e){return e.theme.danger},function(e){return e.theme.white}),we=function(e){var n=e.children;return a.a.createElement(xe,null,n)},ke={email:"",password:"",keepLoggedIn:!1},Ee=function(){var e=A(ke,function(){return f.apply(this,arguments)},$),n=e.handleChange,t=e.handleSubmit,o=e.finishSubmitting,i=e.isSubmitting,c=e.values,l=e.errors,p=e.isSubmitted;function f(){return(f=Object(d.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(c);case 2:e.sent||o();case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var m=Object(r.useContext)(y),h=m.loading,b=m.token,g=m.login;return h?a.a.createElement("div",null,"Loading..."):b?a.a.createElement(u.a,{to:"/userPanel"}):a.a.createElement("div",null,a.a.createElement(ue,{text:"Sign in to the dashboard"}),a.a.createElement("form",{onSubmit:t,noValidate:!0},a.a.createElement(oe,null,p&&!b&&a.a.createElement(we,null,"Invalid email or password"),a.a.createElement(te,{height:"90px"},a.a.createElement(ge,{type:"email",placeholder:"name@company.com",name:"email",required:!0,value:c.email,onChange:n,error:l.email,autoCorrect:"off",autoCapitalize:"off",label:"Email"})),a.a.createElement(te,{height:"90px"},a.a.createElement(ge,{type:"password",name:"password",placeholder:"password",required:!0,onChange:n,value:c.password,error:l.password,autoCorrect:"off",autoCapitalize:"off",label:"Password"})),a.a.createElement(te,{height:"30px"},a.a.createElement("label",null,a.a.createElement(_,{name:"keepLoggedIn",onChange:n,checked:c.keepLoggedIn,label:"Remember Me"}),a.a.createElement("span",{style:{marginLeft:"8px",fontSize:"12px"}},"Remember Me"))),a.a.createElement(Z,{type:"submit",disabled:i,text:"Sign in"}))))},je=function(){var e=Object(r.useContext)(y),n=e.logout,t=e.loading,o=e.token;return t?a.a.createElement("div",null,"Loading..."):o?a.a.createElement("div",null,a.a.createElement(ue,{text:"Login Successful"}),a.a.createElement(Z,{text:"Logout",onClick:n})):a.a.createElement(u.a,{to:"/"})};i.a.render(a.a.createElement(c.a,null,a.a.createElement(O,null,a.a.createElement(S.a,{theme:{background:"#f9f9fc",black:"#252529",white:"#ffffff",primary:"#477bff",textPrimary:"#0a1f44",textRegular:" #4e5d78",textPlaceholder:"#8a94a6",border:"#e1e4e8",danger:"#ff695b"}},a.a.createElement(R,null,a.a.createElement(u.d,null,a.a.createElement(u.b,{exact:!0,path:"/",component:Ee}),a.a.createElement(u.b,{exact:!0,path:"/userPanel",component:je})),a.a.createElement(z,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},55:function(e,n,t){e.exports=t(127)}},[[55,1,2]]]);
//# sourceMappingURL=main.a01b8be3.chunk.js.map